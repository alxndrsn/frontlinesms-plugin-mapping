<html>
	<head>
		<title>FrontlineSMS :: Excelsior Jet :: Building an update</title>
		<link type="text/css" rel="stylesheet" href="style.css"/>
	</head>
	<body>
		<div id="menu">
			<ul>
				<li><a href="install.html">Install</a></li>
				<li><a href="update.html">Update</a></li>
			</ul>
		</div>
		<div id="content">
			<h1>Building an update with Excelsior Jet</h1>
			<p>This file contains instructions on how to build a distributable update for FrontlineSMS using Excelsior JET.</p>
			<p>N.B. this builds an update for the Windows binary distribution of FrontlineSMS.  It should therefore be done on a Windows machine.</p>
			<p class="duration">Durations shown are rough times taken on Alex's computer - Athlon 64 X2 3800+ 2GHz with 2Gb of RAM.  It might take a while on older hardware.</p>
			<ol>
				<li>
					<h2>Build the project</h2>
					<p>Run the ANT task <code>package_windows_jet</code>.</p>
					<p class="result">
<pre>BUILD SUCCESSFUL
Total time: 21 seconds</pre>
					</p>
				</li>
				<li>
					<h2>Build the project again</h2>
					<p>Run the JET build with the following command: <code>jc -quiet =p =a ".\FrontlineSMS.prj"</code>.  This must be done inside the jetPacking directory.</p>
					<p class="result">
<pre>XDS Link Version 2.11.12 Copyright (c) Excelsior 1995-2007.
No errors, no warnings

Link time 0:36.87

Total compilation time 14:14.57</pre>
					</p>
				</li>
				<li>
					<h2>Run JetPackII</h2>
					<img class="screenshot" src="start_jetpack.png"/>
				</li>
				<li>
					<h2>Select New</h2>
					<img class="screenshot" src="jetpack_new.png"/>
				</li>
				<li>
					<h2>Select Update</h2>
					<img class="screenshot" src="jetpack_update.png"/>
				</li>
				<li>
					<h2>Open the package you want to update</h2>
					<p>E.g. if I wanted to update FrontlineSMS 1.4.8, I open the file FrontlineSMS_1.4.8.jpu.  This was generated when I built the 1.4.8 release.</p>
					<img class="screenshot" src="jetpack_select_jpu.png"/>
				</li>
				<li>
					<h2>Ignore warning</h2>
					<img class="screenshot" src="jetpack_jpu_warning.png"/>
				</li>
				<li>
					<h2>Ignore changes</h2>
					<img class="screenshot" src="jetpack_jpu_changes.png"/>
				</li>
				<li>
					<h2>Update resources</h2>
					<p>Select all files inside <code>%project_home%/jetPacking/package/</code>, except for those ending.jar, on the right-hand side (excluding FrontlineSMS.exe), and &lt;- them across to the left-hand side.  Then click the -&gt; arrow at the bottom.</p>
					<img class="screenshot" src="jetpack_update_resources.png"/>
				</li>
				<li>
					<h2>Ignore warnings</h2>
					<p>Click "proceed" to ignore "duplicate names of dynamic libraries" error.</p>
				</li>
				<li>
					<h2>Forward</h2>
					<p>Click -&gt;</p>
				</li>
				<li>
					<h2>Forward</h2>
					<p>Click -&gt; again</p>
				</li>
				<li>
					<h2>Run project</h2>
					<p>If you are told to save it now, do it somehwere temporary, as we don't need this.</p>
				</li>
				<li>
					<h2>Update version</h2>
					<p>Change the verswion number to the current version.</p>
				</li>
				<li>
					<h2>Create the package</h2>
					<p>Click the create button to begin creating the package.</p>
				</li>
				<li>
					<h2></h2>
					<p></p>
				</li>
			</ol>
		</div>
	</body>
</html>